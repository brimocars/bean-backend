{"version":3,"file":"loginPage-CxplePMt.js","sources":["../../../client/src/helpers/api.js","../../../client/src/components/Login.jsx","../../../client/src/components/Signup.jsx","../../../client/src/components/UnauthApp.jsx","../../../client/src/login/main-login.jsx"],"sourcesContent":["export async function login(username, password) {\n  try {\n    const res = await fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password,\n      })\n    })\n    const data = await res.json();\n    return data.token;\n  } catch (err) {\n    console.log(`login: ${err}`)\n    return { error: err.message };\n  }\n}\n\nexport async function signup(username, password, accessCode) {\n  try {\n    const res = await fetch('/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password,\n        accessCode\n      })\n    })\n    if (res.status !== 201) {\n      throw new Error('failed')\n    }\n  } catch (err) {\n    console.log(`login: ${err}`)\n    return { error: err.message };\n  }\n}\n\nexport async function getAllGames() {\n\n}","import { useState } from 'react'\n\nimport * as api from '../helpers/api'\nimport * as utils from '../helpers/utils'\nimport './Login.css'\n\nasync function handleLogin(username, password, setShowLogin) {\n  const token = await api.login(username, password)\n  if (token.error) {\n    //TODO: do something with this\n  } else {\n    setShowLogin(false)\n    utils.saveTokenInSessionStorage(token);\n  }\n}\n\nfunction Login({ setShowLogin }) {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  return (\n    <>\n      <div className='column'>\n        <div className='row'>\n          <label htmlFor=\"username\">Username:</label>\n          <input type='text' name='username' value={username} onInput={(e) => setUsername(e.target.value)} placeholder='username' />\n        </div>\n        <div className='row'>\n          <label htmlFor=\"password\">Password:</label>\n          <input type='password' name='password' value={password} onInput={(e) => setPassword(e.target.value)} placeholder='password' />\n        </div>\n        <button id='login' onClick={() => handleLogin(username, password, setShowLogin)}>Login</button>\n      </div>\n    </>\n  )\n}\n\nexport default Login\n","import { useState } from 'react'\n\nimport * as api from '../helpers/api'\nimport './Signup.css'\n\nasync function handleSignup(username, password, accessCode, setShowSignup) {\n  await api.signup(username, password, accessCode);\n  setShowSignup(false);\n}\n\nfunction Signup({ setShowSignup }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [accessCode, setAccessCode] = useState('');\n\n  return (\n    <>\n      <div className='column'>\n        <div className='row'>\n          <label htmlFor=\"username\">Username:</label>\n          <input type='text' name='username' value={username} onInput={(e) => setUsername(e.target.value)} placeholder='username' />\n        </div>\n        <div className='row'>\n          <label htmlFor=\"password\">Password:</label>\n          <input type='password' name='password' value={password} onInput={(e) => setPassword(e.target.value)} placeholder='password' />\n        </div>\n        <div className='row'>\n          <label htmlFor=\"accessCode\">Access Code:</label>\n          <input type='password' name='accessCode' value={accessCode} onInput={(e) => setAccessCode(e.target.value)} placeholder='access code' />\n        </div>\n        <button id='signup' onClick={() => handleSignup(username, password, accessCode, setShowSignup)}>Signup</button>\n      </div>\n    </>\n  )\n}\n\nexport default Signup;\n","import './UnauthApp.css'\nimport { useState, useEffect } from 'react'\nimport Login from './Login.jsx'\nimport Signup from './Signup.jsx'\nimport * as utils from '../helpers/utils.js'\n\n\nfunction UnauthApp ({ token, setToken}) {\n  const [showLogin, setShowLogin] = useState(false);\n  const [showSignup, setShowSignup] = useState(false);\n\n  useEffect(() => {\n    setToken(utils.getTokenFromSessionStorage());\n  }, [showLogin])\n\n  if (!token) {\n    if (showLogin) {\n      return (\n        <Login \n          setShowLogin={setShowLogin}\n        />\n      )\n    }\n    if (showSignup) {\n      return (\n        <Signup \n          setShowSignup={setShowSignup}\n        />\n      )\n    }\n\n    return (\n      <div id='main-button-holder'>\n        <button onClick={() => setShowLogin(true)}>Login</button>\n        <button onClick={() => setShowSignup(true)}>Signup</button>\n      </div>\n    )\n  }\n};\n\nexport default UnauthApp;\n","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport React from 'react'\nimport { useState } from 'react'\n\nimport UnauthApp from '../components/UnauthApp'\nimport NavBar from '../components/Navbar'\n\n\nfunction Top() {\n  const [token, setToken] = useState('');\n  \n  return (\n    <div>\n      <NavBar\n        token={token}\n        setToken={setToken}\n      />\n      <UnauthApp \n        token={token}\n        setToken={setToken}\n      />\n    </div>\n  )\n}\n\n\nconst init = () => {\n  createRoot(document.getElementById('root')).render(\n    <StrictMode>\n      <Top />\n    </StrictMode>,\n  )\n}\n\nwindow.onload = init"],"names":["login","username","password","err","signup","accessCode","handleLogin","setShowLogin","token","api.login","utils.saveTokenInSessionStorage","Login","setUsername","useState","setPassword","jsx","Fragment","jsxs","e","handleSignup","setShowSignup","api.signup","Signup","setAccessCode","UnauthApp","setToken","showLogin","showSignup","useEffect","utils.getTokenFromSessionStorage","Top","NavBar","init","createRoot","StrictMode"],"mappings":"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"}